---

all:
  children:
    control_plane:
        hosts:
          {%- for node in template_ctx.nodes %}
          {%- if node.node_type == "Control-Plane" %}
          {{ node.hostname }}:
            management_ipv4: {{ node.ip_address }}
            mac: {{ node.mac_address }}
            boot_drive:
            {%- for drive in node.boot_drives %}
              - {{ drive | lower() }}
            {%- endfor %}
            data_drive:
            {%- for drive in node.data_drives %}
              - {{ drive | lower() }}
            {%- endfor %}
            os_raid: {{ node.os_raid }}
            os_raid_root_size: {{ node.os_raid_root_size | default(50) }}
            pxe_type: {{ node.pxe_type | lower() }}
            node_type: {{ node.node_type }}
            deployment_type: {{ node.deployment_type }}
            memory: 4096
            cpu: 4
          {%- endif %}
          {%- endfor %}

