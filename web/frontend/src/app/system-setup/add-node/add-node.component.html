<div class="main-content2">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Add Node</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <mat-vertical-stepper class="inMatCard" [linear]=true #stepper (selectionChange)="stepChanged($event)">
        <!-- Physical Connect and Configure new Node RAID -->
        <mat-step id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-documentation"
                  label="Physically connect and configure the RAID of the new node">
          <p>See <a href="{{ documentation_link }}" target="_blank">Documentation</a> for more details</p>
          <button mat-button matStepperNext id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-documentation-button-next">Next</button>
        </mat-step>
        <!-- Kick Start Node Information -->
        <mat-step id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-kickstart"
                  label="Fill out Kickstart Node information" [stepControl]="node">
          <app-kickstart-node-form id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-kickstart-app-kickstart-node-form"
                                   [uniqueHTMLID]="'app-add-node'" [node]="node" [availableIPs]="availableIPs"></app-kickstart-node-form>
          <button mat-raised-button id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-button-execute-kickstart"
                  [disabled]="node.invalid" color="primary" (click)="executeKickstart()">Execute Kickstart</button>
        </mat-step>
        <!-- Network Boot Node (RedHat Install) -->
        <mat-step id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-network-documentation"
                  label="Network boot the node and wait for Red Hat to install.">
          <p>See <a href="{{ documentation_link }}" target="_blank">Documentation</a> for more details</p>
          <button mat-button matStepperPrevious id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-network-documentation-button-back">Back</button>
          <button mat-button matStepperNext id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-network-documentation-button-next">Next</button>
        </mat-step>
        <!-- Node Type -->
        <mat-step id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-kitnode"
                  label="{{ chooseNodeTypeLabel }}" [stepControl]="kitNode">
          <p *ngIf="error_text" id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-kitnode-p-error-text" style="color:red;">{{ error_text }}</p>
          <mat-progress-bar *ngIf="isKitNodeLoading" id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-kitnode-mat-progress-bar" mode="indeterminate"></mat-progress-bar>
          <ng-container *ngIf="!isKitNodeLoading">
            <h2 id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-kitnode-h2-hostname" style="margin-bottom: 0px;">{{ hostname }}</h2>
            <app-kit-node-form id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-kitnode-app-kit-node-form"
                               [uniqueHTMLID]="'app-add-node'" [node]="kitNode" [disableMasterSelection]="true" (nodeTypeChange)="onNodeTypeChange($event)"></app-kit-node-form>
            <p *ngIf="cpuMemMisMatch" id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-kitnode-p-error-server-memcpu" style="color:red;">{{ serverMemCpuError }}</p>
            <button mat-raised-button id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-kitnode-button-execute-add-node"
                    color="primary" [disabled]="kitNode.invalid || cpuMemMisMatch" (click)="executeAddNode()">Execute Add Node</button>
          </ng-container>
        </mat-step>
      </mat-vertical-stepper>
    </mat-card-content>
  </mat-card>
</div>
