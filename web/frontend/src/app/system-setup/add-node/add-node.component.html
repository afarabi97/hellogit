<div class="main-content2">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Add Node</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <mat-horizontal-stepper  labelPosition="bottom" class="inMatCard" [linear]=true #stepper (selectionChange)="stepChanged($event)">
        <!-- Physical Connect and Configure new Node RAID -->
        <mat-step id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-documentation"
                  label="Physically Configure Node">
          <p>Configure RAID and connect server to network.</p>
          <p>See <a href="{{ documentation_link }}" target="_blank">Documentation</a> for more details</p>
          <div fxLayout="row" fxLayoutAlign="end none" style="margin-top: 10px;" fxLayoutGap="10px">
            <button mat-button color="primary" matStepperNext>Next</button>
          </div>
        </mat-step>
        <!-- Kick Start Node Information -->
        <mat-step id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-kickstart"
                  label="Kickstart Node" [stepControl]="node">
          <app-kickstart-node-form id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-kickstart-app-kickstart-node-form"
                                   [uniqueHTMLID]="'app-add-node'" [node]="node" [availableIPs]="availableIPs"></app-kickstart-node-form>
          <div fxLayout="row" fxLayoutAlign="end none" style="margin-top: 10px;" fxLayoutGap="10px">
            <button mat-button color="primary" [disabled]="node.invalid" (click)="executeKickstart()">Execute Kickstart</button>
          </div>
        </mat-step>
        <!-- Network Boot Node (RedHat Install) -->
        <mat-step id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-network-documentation"
                  label="PXE Boot Node">
          <p>See <a href="{{ documentation_link }}" target="_blank">Documentation</a> for more details</p>
          <div fxLayout="row" fxLayoutAlign="end none" style="margin-top: 10px;" fxLayoutGap="10px">
            <button mat-button color="warn" matStepperPrevious id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-network-documentation-button-back">Back</button>
            <button mat-button color="primary" matStepperNext id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-network-documentation-button-next">Next</button>
          </div>
        </mat-step>
        <!-- Node Type -->
        <mat-step id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-kitnode"
                  label="{{ chooseNodeTypeLabel }}" [stepControl]="kitNode">
          <mat-progress-bar *ngIf="isKitNodeLoading" id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-kitnode-mat-progress-bar" mode="indeterminate"></mat-progress-bar>
          <ng-container *ngIf="!isKitNodeLoading">
            <h2 id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-kitnode-h2-hostname" style="margin-bottom: 0px;">{{ hostname }}</h2>
            <app-kit-node-form id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-kitnode-app-kit-node-form"
                               [uniqueHTMLID]="'app-add-node'" [node]="kitNode" [disableMasterSelection]="true" (nodeTypeChange)="onNodeTypeChange($event)"></app-kit-node-form>
            <div fxLayout="row" fxLayoutAlign="end none" style="margin-top: 10px;" fxLayoutGap="10px">
              <button mat-icon-button color="accent" (click)="gatherDeviceFacts()" matTooltip="Refresh device facts" matTooltipPosition="above">
                <span class="material-icons" >refresh</span>
              </button>
              <button mat-raised-button color="primary" id="app-add-node-div-mat-card-mat-card-content-mat-vertical-stepper-mat-step-kitnode-button-execute-add-node"
                      [disabled]="kitNode.invalid || error" (click)="executeAddNode()">Execute Add Node</button>
            </div>
          </ng-container>
        </mat-step>
      </mat-horizontal-stepper>
    </mat-card-content>
  </mat-card>
</div>
