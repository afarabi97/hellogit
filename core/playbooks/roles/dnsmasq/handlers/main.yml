---
# handlers file for roles/dnsmasq

- name: NetworkManager Services
  service:
    name: NetworkManager
    state: restarted
  listen: "Restart NetworkManager"

- name: Network Services
  service:
    name: network
    state: restarted
  listen: "Restart Network"

- name: Check if kubelet installed
  stat:
    path: "/usr/bin/kubelet"
  register: kubelet_stat_result
  listen: "Bump kubelet if installed"

- name: Bump kubelet if network changed
  service:
    name: kubelet
    state: restarted
  when: kubelet_stat_result.stat.exists
  listen: "Bump kubelet if installed"

...
