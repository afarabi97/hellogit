---

############################################
# Checking that required variables are set #
############################################

- name: Checking run_option is Set
  fail:
    msg: 'Run option is not defined properly. Run option needs to be set to install, reinstall, uninstall, or upgrade. i.e. --extra-vars "run_option=install"'
  when: run_option not in ['install', 'uninstall', 'reinstall', 'upgrade'] or run_option is not defined or run_option is none

- name: Check if remote_sensors is defined
  fail:
    msg: 'Verify you have the remote_sensors group in your inventory file. It must be defined. See sample inventory. If you have no remote sensors you can define an empty group with just remote-senors: under nodes.'
  when: "'remote_sensors' not in groups"

- name: Check if servers is defined
  fail:
    msg: 'Verify you have the servers group in your inventory file. It must be defined. See sample inventory. If you have no servers you can define an empty group with just servers: under nodes.'
  when: "'servers' not in groups"

- name: Checking that management_ipv4 is set
  fail:
    msg: "management_ipv4 is not defined. Make sure it is defined in your inventory file. See sample inventory for help."
  when: management_ipv4 is not defined or management_ipv4 is none

- name: Checking that kubernetes_services_cidr is set
  fail:
    msg: "kubernetes_services_cidr is not defined. Make sure it is defined in your inventory file. See sample inventory for help."
  when: kubernetes_services_cidr is not defined or kubernetes_services_cidr is none

...
