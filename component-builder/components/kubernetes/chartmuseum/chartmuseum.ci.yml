.chartmuseum-variables:
  variables:
    NAME: kubernetes/chartmuseum

.chartmuseum-helm-rules:
  only:
    changes:
      - component-builder/components/kubernetes/chartmuseum/helm/*
      - component-builder/components/kubernetes/chartmuseum/helm/**/*
      - component-builder/components/kubernetes/chartmuseum/templates/Chart.yaml.j2
      - component-builder/components/kubernetes/chartmuseum/templates/values.yaml.j2
  except:
    - tags
    - schedules

helm build chartmuseum:
  extends:
    - .helm-build-super
    - .chartmuseum-helm-rules
    - .chartmuseum-variables
