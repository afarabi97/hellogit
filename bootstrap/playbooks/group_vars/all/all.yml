---

web_root: /var/www/html
tfplenumoffline_dir: "{{ web_root }}/offlinerepo"
tfplenum_root_dir: /opt/tfplenum
core_install_dir: /opt/tfplenum/core
web_install_dir: "{{ tfplenum_root_dir }}/web"
dip_core_vars: "{{ core_install_dir }}/playbooks/group_vars/all/versions.yml"
chart_dir: "{{ tfplenumoffline_dir }}/charts"
base_iso_dir: "{{ tfplenumoffline_dir }}/tfplenum"
baseos_dir: "{{ base_iso_dir }}/BaseOS"
extras_dir: "{{ base_iso_dir }}/Extras"
system_name: "{{ lookup('ini', 'system_name section=tfplenum file=/etc/tfplenum.ini') }}"
mip_core_vars: /opt/tfplenum/mip/mip-core/group_vars/all/packages.yml
keycloak_version: 11.0.3
mip_version_dir: MIP-3.5

server_repos:
  - codeready-builder-for-rhel-8-x86_64-rpms
  - rhel-8-for-x86_64-appstream-rpms
  - rhel-8-for-x86_64-baseos-rpms
  - rhel-8-for-x86_64-supplementary-rpms

labrepo_url: labrepo.sil.lab
nexus_url: nexus.sil.lab

misc_server: http://misc.{{ labrepo_url }}
isos_server: http://isos.{{ labrepo_url }}

additional_repo_info:
  kube:
    name: "kubernetes"
    baseurl: "https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64"
    # gpgkeyurl: "https://packages.cloud.google.com/yum/doc/yum-key.gpg"
    gpgkeyurl: "https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg"
    gpgkeyname: "yum-key.gpg"
    gpgcheck: true
    description: "kubernetes repo"
    # Required because kube public repo uses relative path so this is a hack to fix it
    download_path: "{{ tfplenumoffline_dir }}/tmp"
  mongo:
    name: "mongodb-org-4.0"
    baseurl: "https://repo.mongodb.org/yum/redhat/8/mongodb-org/4.4/x86_64/"
    gpgkeyurl: "https://www.mongodb.org/static/pgp/server-4.4.asc"
    gpgkeyname: "server-4.0.asc"
    gpgcheck: true
    description: "MongoDB Repository"
    download_path: "{{ tfplenumoffline_dir }}"
  docker_ce:
    name: "docker-ce"
    baseurl: "https://download.docker.com/linux/centos/7/$basearch/stable"
    gpgkeyurl: "https://download.docker.com/linux/centos/gpg"
    gpgkeyname: "gpg"
    gpgcheck: true
    description: "Docker CE repo"
    download_path: "{{ tfplenumoffline_dir }}"

epel_repo:
    metalink: "https://mirrors.fedoraproject.org/metalink?repo=epel-8&arch=$basearch"
    gpgkeyurl: "https://dl.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-7"
    gpgkey:  "file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7"
    gpgcheck: true
    name: "epel"
    description: "epel repo"
    failovermethod: "priority"
    download_path: "{{ tfplenumoffline_dir }}"

pip_downloads:
  - docker==4.1.0
  - elasticsearch==7.1.0
  - flask==1.1.1
  - ipaddress==1.0.23
  - junit-xml==1.8
  - netaddr==0.7.19
  - requests==2.25.0
  - "restresponse==2.0.0"
  - urllib3==1.25.7
  - pbr==5.4.4
  - aniso8601==8.0.0
  - kubernetes==10.0.1
  - psutil==5.6.7
  - pip==20.2.4
  - setuptools==50.3.2


iso_rhel_version: "8.2"
iso_rhel_server_name: "rhel-{{ iso_rhel_version }}-x86_64-dvd.iso"
iso_rhel_server_path: "/root/{{ iso_rhel_server_name }}"
iso_rhel_server_url_labrepo: "{{ isos_server }}/{{ iso_rhel_server_name }}"
iso_rhel_server_checksum: 7fdfed9c7cced4e526a362e64ed06bcdc6ce0394a98625a40e7d05db29bf7b86

iso_rhel_worstation_name: "rhel-workstation-{{ iso_rhel_version }}-x86_64-dvd.iso"
iso_rhel_worstation_path: "/root/{{ iso_rhel_worstation_name }}"
iso_rhel_workstation_url_labrepo: "{{ isos_server }}/{{ iso_rhel_worstation_name }}"
iso_rhel_worstation_checksum: 56c4be4757c4b8e560d21e13a8cc3854ace401547e02999ff8dbc2696f92dff3

BOOTSTRAP: false

ansible_controller_hostname: "{{ ansible_nodename }}"

RHEL_SOURCE_REPO: "{{ lookup('env','RHEL_SOURCE_REPO') | default('labrepo') }}"
BOOTSTRAP_VARS: "{{ web_root }}/bootstrap.yml"
TFPLENUM_REPO_DIR: "{{ tfplenumoffline_dir }}/tfplenum"

chart_repos:
  - "bitnami https://charts.bitnami.com/bitnami"
  - "elastic https://helm.elastic.co"
  - "stable https://kubernetes-charts.storage.googleapis.com"

#Path where iso is to be mounted ex: /mnt
mnt_pth: /mnt

...
