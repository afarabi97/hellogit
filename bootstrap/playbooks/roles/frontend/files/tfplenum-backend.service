[Unit]
Description=Starts TFPlenum Frontend
After=network.target

[Service]
WorkingDirectory=/opt/tfplenum/web/backend
ExecStartPre=-/usr/bin/rm -rf /opt/tfplenum/web/backend/app/__pycache__
ExecStopPost=-/usr/bin/rm -rf /opt/tfplenum/web/backend/app/__pycache__
ExecStart=/opt/tfplenum/web/tfp-env/bin/gunicorn --timeout 120 --graceful-timeout 120 --config ../setup/gunicorn_config.py app:app
TimeoutStartSec=0
Restart=always
RestartSec=1

[Install]
WantedBy=multi-user.target
