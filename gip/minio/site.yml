---
- name: Installs a stand-alone MinIO server.
  hosts: minio
  roles:
    - { role: "minio", tags: ["install"] }
  tasks:
    - name: Remove the labrepo repositories.
      import_role:
        name: labrepo
        tasks_from: remove_labrepo_repositories.yml

- name: Secures access to the MinIO server with a TLS certificate.
  hosts: minio
  tasks:
    - name: Creates a self signed certificate on the MinIO server.
      import_role:
        name: minio
        tasks_from: create_certificate.yml
      tags: [create-certificate]
