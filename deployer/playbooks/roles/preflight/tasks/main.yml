---
- name: Check if tfplenum vars exists
  stat:
    path: "{{ tfplenum_vars }}"
  register: vars_result

- name: Missing tfplenum repo
  fail:
    msg: "Unable to find versions.yml in {{ tfplenum_vars }}.  Verify tfplenum rpm is installed."
  when: vars_result.stat.exists == false

- name: dns variable is required
  fail:
    msg: "dns variable is not valid.  dns variable is required. Make sure it is defined in your inventory file."
  when: dns == "" or dns is not defined or dns is none

- name: gateway variable is required
  fail:
    msg: "gateway variable is not valid.  gateway variable is required. Make sure it is defined in your inventory file."
  when: gateway == "" or gateway is not defined or gateway is none

- name: netmask variable is required
  fail:
    msg: "netmask variable is not valid.  netmask variable is required. Make sure it is defined in your inventory file."
  when: netmask == "" or netmask is not defined or netmask is none

- name: root_password variable is required
  fail:
    msg: "root_password variable is not valid.  root_password variable is required. Make sure it is defined in your inventory file."
  when: root_password == "" or root_password is not defined or root_password is none
