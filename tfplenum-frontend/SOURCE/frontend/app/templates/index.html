<!-- index.html-->

{% extends "base.html" %}
{% block title %}Home{% endblock %}
{% block body %}
<script type=text/javascript>
  $(function() {
    $('a#calculate').bind('click', function() {
      $.getJSON($SCRIPT_ROOT + '/_add_numbers', {
        a: $('input[name="a"]').val(),
        b: $('input[name="b"]').val()
      }, function(data) {
        $("#result").text(data.result);
      });
      return false;
    });
  });
</script>

<div class="jumbotron">
  <h1>Inventory Configurator</h1>
  <p class="lead">We're really trying to make this easier!</p>
</div>
<form action="/" method="post" role=form>
  {{ form.hidden_tag() }}
  <h2>Configure Host Machines</h2>
    {% with button_name=form.number_of_sensors, button_label=form.number_of_sensors_label, button_text=form.number_of_sensors_button_text %}
      {% include "button.html" %}
    {% endwith %}
    {% for error in form.number_of_sensors.errors %}
    <div class="alert alert-danger" role="alert">
      {{ error }}
    </div>
    {% endfor %}
  <hr>
  <p><input type=text size=5 name=a> +
     <input type=text size=5 name=b> =
     <span id=result>?</span>
  <p><a href=# id=calculate>calculate server side</a>
  <h2>Configure Inventory Settings</h2>
  <p>
    {% with text_input_name=form.dns_ip, text_input_field=form.dns_ip_label, text_input_description=form.dns_ip.description %}
      {% include "text_input.html" %}
    {% endwith %}
    {% for error in form.dns_ip.errors %}
    <div class="alert alert-danger" role="alert">
      {{ error }}
    </div>
    {% endfor %}
  </p>
  <p><button class="btn btn-primary" type="submit">Generate Inventory</button></p>
</form>

{% endblock %}
