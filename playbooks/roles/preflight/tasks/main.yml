---
- name: Check if tfplenum vars exists
  stat:
    path: "{{ tfplenum_vars }}"
  register: vars_result

- name: Missing tfplenum repo
  fail:
    msg: "Unable to find versions.yml in {{ tfplenum_vars }}.  Verify tfplenum rpm is installed."
  when: vars_result.stat.exists == false

- name: check for offline var
  fail:
    msg: "offline variable is missing.  Please review sample inventory."
  when: offline is not defined or offline is none

- name: offline and pull repos conflicting
  fail:
    msg: "Verify offline variable and pull_all_repos variable.  pull_all_repos cannot be true when offline is true."
  when: offline is defined and offline 
    and pull_all_repos is defined and pull_all_repos == true

- name: offline and pull repos conflicting
  fail:
    msg: "Verify offline variable and pull_additional_repos variable.  pull_additional_repos cannot be true when offline is true."
  when: offline is defined and offline 
    and pull_additional_repos is defined and pull_additional_repos == true

- name: offline and pull repos conflicting
  fail:
    msg: "Verify offline variable and pull_rhel_repos variable.  pull_rhel_repos cannot be true when offline is true."
  when: offline is defined and offline 
    and pull_rhel_repos is defined and pull_rhel_repos == true

- name: offline and pull repos conflicting
  fail:
    msg: "Verify offline variable and pull_centos_repos variable.  pull_centos_repos cannot be true when offline is true."
  when: offline is defined and offline 
    and pull_centos_repos is defined and pull_centos_repos == true

- name: dns variable is required
  fail:
    msg: "dns variable is not valid.  dns variable is required. Make sure it is defined in your inventory file."
  when: dns == "" or dns is not defined or dns is none

- name: gateway variable is required
  fail:
    msg: "gateway variable is not valid.  gateway variable is required. Make sure it is defined in your inventory file."
  when: gateway == "" or gateway is not defined or gateway is none

- name: netmask variable is required
  fail:
    msg: "netmask variable is not valid.  netmask variable is required. Make sure it is defined in your inventory file."
  when: netmask == "" or netmask is not defined or netmask is none

- name: root_password variable is required
  fail:
    msg: "root_password variable is not valid.  root_password variable is required. Make sure it is defined in your inventory file."
  when: root_password == "" or root_password is not defined or root_password is none

    

    

    