---

- import_tasks: offline.yml
  when: offline is defined and offline

- import_tasks: online.yml
  when: not offline or (offline is defined and offline == false)

- name: "Install required packages"
  yum:
    name: "{{ item }}"
    state: latest
  with_items:
    - "{{ package_list }}"

- name: Enable Firewalld Service
  service:
    name: "firewalld"
    state: started
    enabled: true

- name: Allow flask port 5000
  firewalld:
    port: "{{ flask_port }}"
    immediate: yes
    permanent: yes
    state: enabled