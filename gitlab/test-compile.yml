compile front-end:
  tags:
    - tfplenum-buildv2
  stage: test-compile
  script: |
    echo "IP of runner is $(hostname -I | cut -d " " -f1)"
    echo "Current working directory is $(pwd)"
    docker run --rm -v $(pwd):/opt/tfplenum nexus.sil.lab/tfplenum/code-checker:1.1 /opt/tfplenum/web/setup/compile_frontend.sh
  allow_failure: false
  only:
    variables:
      - $PIPELINE == "static_analysis_only"
      - $PIPELINE == "developer-all"

environment setup backend:
  tags:
    - tfplenum-buildv2
  stage: test-compile
  script: |
    echo "IP of runner is $(hostname -I | cut -d " " -f1)"
    echo "Current working directory is $(pwd)"
    docker run --rm -v $(pwd):/opt/tfplenum nexus.sil.lab/tfplenum/code-checker:1.1 /opt/tfplenum/web/setup/setup_backend.sh
  allow_failure: false
  only:
    variables:
      - $PIPELINE == "static_analysis_only"
      - $PIPELINE == "developer-all"