DIP Setup Documents:
  stage: docs
  needs: ["Clear Staging Environment", "Build CPT Manifest", "Build MDT Manifest"]
  tags:
    - tfplenum-buildv2
  script: |
    echo "IP of runner is $(hostname -I | cut -d " " -f1)"
    echo "DIP Setup Documents - Current working directory is $(pwd)"
    python3 testing/pipeline/pipeline.py \
    run-export export-single-page-pdf \
    --username "$CONFLUENCE_USERNAME" \
    --password "$CONFLUENCE_PASSWORD" \
    --cpt-export-path "$DIP_CPT_DOC_EXPORT_LOC/" \
    --mdt-export-path "$DIP_MDT_DOC_EXPORT_LOC/" \
    --staging-export-path "$DRIVE_STAGING_FOLDER" \
    --export-version "$TFPLENUM_EXPORT_VERSION" \
    --page-titles "$DIP_CONFLUENCE_SETUP_DOCS"
  retry: 2
  allow_failure: true
  only:
    variables:
      - $PIPELINE == "export-docs"
      - $PIPELINE == "export-all"


DIP User Documents:
  stage: docs
  needs: ["Clear Staging Environment", "Build CPT Manifest", "Build MDT Manifest"]
  tags:
    - tfplenum-buildv2
  script: |
    echo "IP of runner is $(hostname -I | cut -d " " -f1)"
    echo "DIP User Documents - Current working directory is $(pwd)"
    python3 testing/pipeline/pipeline.py \
    run-export export-single-page-pdf \
    --username "$CONFLUENCE_USERNAME" \
    --password "$CONFLUENCE_PASSWORD" \
    --cpt-export-path "$DIP_CPT_DOC_EXPORT_LOC/" \
    --mdt-export-path "$DIP_MDT_DOC_EXPORT_LOC/" \
    --staging-export-path "$DRIVE_STAGING_FOLDER" \
    --export-version "$TFPLENUM_EXPORT_VERSION" \
    --page-titles "$DIP_CONFLUENCE_USER_DOCS"
  retry: 2
  allow_failure: true
  only:
    variables:
      - $PIPELINE == "export-docs"
      - $PIPELINE == "export-all"


DIP Appendix Documents:
  stage: docs
  needs: ["Clear Staging Environment", "Build CPT Manifest", "Build MDT Manifest"]
  tags:
    - tfplenum-buildv2
  script: |
    echo "IP of runner is $(hostname -I | cut -d " " -f1)"
    echo "DIP User Documents - Current working directory is $(pwd)"
    python3 testing/pipeline/pipeline.py \
    run-export export-single-page-pdf \
    --username "$CONFLUENCE_USERNAME" \
    --password "$CONFLUENCE_PASSWORD" \
    --cpt-export-path "$DIP_CPT_DOC_EXPORT_LOC/" \
    --mdt-export-path "$DIP_MDT_DOC_EXPORT_LOC/" \
    --staging-export-path "$DRIVE_STAGING_FOLDER" \
    --export-version "$TFPLENUM_EXPORT_VERSION" \
    --page-titles "$DIP_CONFLUENCE_APPENDIX_DOCS"
  retry: 2
  allow_failure: true
  only:
    variables:
      - $PIPELINE == "export-docs"
      - $PIPELINE == "export-all"


DIP Maintenance Documents:
  stage: docs
  needs: ["Clear Staging Environment", "Build CPT Manifest", "Build MDT Manifest"]
  tags:
    - tfplenum-buildv2
  script: |
    echo "IP of runner is $(hostname -I | cut -d " " -f1)"
    echo "DIP MAINT Documents - Current working directory is $(pwd)"
    python3 testing/pipeline/pipeline.py \
    run-export export-single-page-pdf \
    --username "$CONFLUENCE_USERNAME" \
    --password "$CONFLUENCE_PASSWORD" \
    --cpt-export-path "$DIP_CPT_DOC_EXPORT_LOC/" \
    --mdt-export-path "$DIP_MDT_DOC_EXPORT_LOC/" \
    --staging-export-path "$DRIVE_STAGING_FOLDER" \
    --export-version "$TFPLENUM_EXPORT_VERSION" \
    --page-titles "$DIP_CONFLUENCE_MAIN_DOCS"
  retry: 2
  allow_failure: true
  only:
    variables:
      - $PIPELINE == "export-docs"
      - $PIPELINE == "export-all"


DIP TroubleShooting Documents:
  stage: docs
  needs: ["Clear Staging Environment", "Build CPT Manifest", "Build MDT Manifest"]
  tags:
    - tfplenum-buildv2
  script: |
    echo "IP of runner is $(hostname -I | cut -d " " -f1)"
    echo "DIP Trouble Documents - Current working directory is $(pwd)"
    python3 testing/pipeline/pipeline.py \
    run-export export-single-page-pdf \
    --username "$CONFLUENCE_USERNAME" \
    --password "$CONFLUENCE_PASSWORD" \
    --cpt-export-path "$DIP_CPT_DOC_EXPORT_LOC/" \
    --mdt-export-path "$DIP_MDT_DOC_EXPORT_LOC/" \
    --staging-export-path "$DRIVE_STAGING_FOLDER" \
    --export-version "$TFPLENUM_EXPORT_VERSION" \
    --page-titles "$DIP_CONFLUENCE_TROUBLE_DOCS"
  retry: 2
  allow_failure: true
  only:
    variables:
      - $PIPELINE == "export-docs"
      - $PIPELINE == "export-all"

CPT VDD Documents:
  stage: docs
  needs: ["Clear Staging Environment", "Build CPT Manifest", "Build MDT Manifest"]
  tags:
    - tfplenum-buildv2
  script: |
    echo "IP of runner is $(hostname -I | cut -d " " -f1)"
    echo "DIP VDD Documents - Current working directory is $(pwd)"
    python3 testing/pipeline/pipeline.py \
    run-export export-single-page-pdf \
    --username "$CONFLUENCE_USERNAME" \
    --password "$CONFLUENCE_PASSWORD" \
    --cpt-export-path "$CPT_VDD_EXPORT_LOC/" \
    --staging-export-path "$DRIVE_STAGING_FOLDER" \
    --export-version "$TFPLENUM_EXPORT_VERSION" \
    --page-titles "$CPT_CONFLUENCE_VDD_DOCS"
  retry: 2
  allow_failure: true
  only:
    variables:
      - $PIPELINE == "export-docs"
      - $PIPELINE == "export-all"

MDT VDD Documents:
  stage: docs
  needs: ["Clear Staging Environment", "Build CPT Manifest", "Build MDT Manifest"]
  tags:
    - tfplenum-buildv2
  script: |
    echo "IP of runner is $(hostname -I | cut -d " " -f1)"
    echo "DIP VDD Documents - Current working directory is $(pwd)"
    python3 testing/pipeline/pipeline.py \
    run-export export-single-page-pdf \
    --username "$CONFLUENCE_USERNAME" \
    --password "$CONFLUENCE_PASSWORD" \
    --mdt-export-path "$MDT_VDD_EXPORT_LOC/" \
    --staging-export-path "$DRIVE_STAGING_FOLDER" \
    --export-version "$TFPLENUM_EXPORT_VERSION" \
    --page-titles "$MDT_CONFLUENCE_VDD_DOCS"
  retry: 2
  allow_failure: true
  only:
    variables:
      - $PIPELINE == "export-docs"
      - $PIPELINE == "export-all"


Minor Release VDD Documents:
  stage: docs
  needs: ["Clear Staging Environment", "Build CPT Manifest", "Build MDT Manifest"]
  tags:
    - tfplenum-buildv2
  script: |
    echo "IP of runner is $(hostname -I | cut -d " " -f1)"
    echo "DIP VDD Documents - Current working directory is $(pwd)"
    python3 testing/pipeline/pipeline.py \
    --system-name "DIP" \
    run-export export-single-page-pdf \
    --username "$CONFLUENCE_USERNAME" \
    --password "$CONFLUENCE_PASSWORD" \
    --cpt-export-path "$MINOR_RELEASE_CPT_VDD_LOC" \
    --mdt-export-path "$MINOR_RELEASE_MDT_VDD_LOC" \
    --staging-export-path "$DRIVE_STAGING_FOLDER" \
    --export-version "$TFPLENUM_EXPORT_VERSION" \
    --page-titles "$CONFLUENCE_VDD_DOCS"
  retry: 2
  allow_failure: true
  only:
    variables:
      - $PIPELINE == "minor-release"

Supplemental Documents:
  stage: docs
  needs: ["Clear Staging Environment", "Build CPT Manifest", "Build MDT Manifest"]
  tags:
    - tfplenum-buildv2
  script: |
    echo "IP of runner is $(hostname -I | cut -d " " -f1)"
    echo "Supplemental Documents: $CONFLUENCE_SUP_DOCS - Current working directory is $(pwd)"
    python3 testing/pipeline/pipeline.py \
    --system-name "DIP" \
    run-export export-single-page-pdf \
    --username "$CONFLUENCE_USERNAME" \
    --password "$CONFLUENCE_PASSWORD" \
    --cpt-export-path "$SUP_CPT_DOC_EXPORT_LOC" \
    --mdt-export-path "$SUP_MDT_DOC_EXPORT_LOC" \
    --staging-export-path "$DRIVE_STAGING_FOLDER" \
    --export-version "$TFPLENUM_EXPORT_VERSION" \
    --page-titles "$CONFLUENCE_SUP_DOCS"
  retry: 2
  allow_failure: true
  only:
    variables:
      - $PIPELINE == "minor-release"
